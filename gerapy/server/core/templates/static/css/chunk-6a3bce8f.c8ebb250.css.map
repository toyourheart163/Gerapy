{"version":3,"sources":["webpack:///src/views/project/src/views/project/Web.vue","chunk-6a3bce8f.c8ebb250.css","webpack:///src/views/project/Parser.vue","webpack:///src/components/CodeEditor.vue","webpack:///src/views/project/Configure.vue"],"names":[],"mappings":"AAiKA,6BACA,cC/JA,CC8RA,SACC,WAAA,CACA,wBAAoC,CAFrC,WAIE,cAAA,CACA,iBAAkB,CALpB,kBAOG,gBAAiB,CAPpB,aAUG,aAAA,CACA,eAAgB,CAXnB,0BAgBG,UAAW,CACX,iDAOD,wBAAA,CACA,iBAAA,CACA,gBAJiB,CADnB,mFAOG,cAAe,CAPlB,oCAYG,+BAA2C,CAZ9C,yCAcI,SAAU,CAdd,2CAiBI,SAAU,CAjBd,0CAuBG,iBAAA,CACA,WAAA,CACA,gBAAA,CACA,gBAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,+BAA2C,CA/B9C,4BAqCG,wBAAA,CACA,gBAAiB,CAtCpB,sBA2CE,gBAAA,CACA,eAAA,CACA,wBAAA,CACA,YAAa,CACb,yBAID,uBAAyB,CACzB,qBAGA,kCAAoC,CClPrC,aACC,cAAe,CADhB,yBAGE,gBAAiB,CAHnB,8BAME,WAAA,CACA,0BAAoC,CC4KtC,0GAGG,iBAAkB,CAHrB,gDASI,eAAgB,CAChB,QAMH,oBAAqB,CADtB,cAGE,yBAA2B,CAH7B,eAME,yBAA2B,CAN7B,aASE,yBAA2B,CAC3B,MAID,cAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,cAAA,CACA,iBAAkB","file":"chunk-6a3bce8f.c8ebb250.css","sourcesContent":["<template>\n\t<div>\n\t\t<el-row class=\"m-b-sm\">\n\t\t\t<el-col :span=\"3\">\n\t\t\t\t<el-button type=\"primary\" size=\"mini\">XPath Selector</el-button>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"18\">\n\t\t\t\t{{ xpathSelector }}\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"1\">\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" v-clipboard:copy=\"xpathSelector\" v-clipboard:success=\"onCopy\"\n\t\t\t\t\t\t\t\t\t v-clipboard:error=\"onError\">{{ $lang.buttons.copy }}\n\t\t\t\t</el-button>\n\t\t\t</el-col>\n\t\t</el-row>\n\t\t<el-row class=\"m-b-md\">\n\t\t\t<el-col :span=\"3\">\n\t\t\t\t<el-button type=\"primary\" size=\"mini\">CSS Selector</el-button>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"18\">\n\t\t\t\t{{ cssSelector }}\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"1\">\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" v-clipboard:copy=\"cssSelector\" v-clipboard:success=\"onCopy\"\n\t\t\t\t\t\t\t\t\t v-clipboard:error=\"onError\">{{ $lang.buttons.copy }}\n\t\t\t\t</el-button>\n\t\t\t</el-col>\n\t\t</el-row>\n\t\t<iframe sandbox=\"allow-same-origin allow-scripts\" scrolling=\"yes\" width=\"100%\" :srcdoc=\"html\"\n\t\t\t\t\t\tclass=\"iframe-box\" id=\"iframe-box\" frameborder=\"0\"></iframe>\n\t</div>\n</template>\n<script>\n\timport $ from 'jquery'\n\n\t$.fn.extend({\n\t\tgetCSSSelector: function () {\n\t\t\tvar path, node = this;\n\t\t\twhile (node.length) {\n\t\t\t\tvar realNode = node[0], name = realNode.localName;\n\t\t\t\tvar classes = $(realNode).attr('class')\n\t\t\t\tvar cls = ''\n\t\t\t\tif (classes) {\n\t\t\t\t\tclasses = classes.split(' ');\n\t\t\t\t\tfor (let i = 0; i < classes.length; i++) {\n\t\t\t\t\t\tif (classes[i]) {\n\t\t\t\t\t\t\tcls += '.' + classes[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!name) break;\n\t\t\t\tname = name.toLowerCase();\n\n\t\t\t\tif (cls) {\n\t\t\t\t\tname = name + cls;\n\t\t\t\t}\n\n\t\t\t\tvar parent = node.parent();\n\n\t\t\t\tvar sameTagSiblings = parent.children(name);\n\t\t\t\tif (sameTagSiblings.length > 1) {\n\t\t\t\t\tvar allSiblings = parent.children();\n\t\t\t\t\tvar index = allSiblings.index(realNode) + 1;\n\t\t\t\t\tif (index > 1) {\n\t\t\t\t\t\tname += ':nth-child(' + index + ')';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name !== 'html' && name !== 'body') {\n\t\t\t\t\tpath = name + (path ? ' > ' + path : '');\n\t\t\t\t}\n\t\t\t\tnode = parent;\n\n\t\t\t}\n\t\t\treturn path;\n\t\t},\n\t\tgetXPathSelector: function () {\n\t\t\tvar path, node = this;\n\t\t\tif (node.id) return \"//*[@id='\" + node.id + \"']\"\n\t\t\tvar position,\n\t\t\t\t$node = this.first(),\n\t\t\t\tnodeName = $node.prop('nodeName'),\n\t\t\t\t$sibSameNameAndSelf = $node.siblings(nodeName).addBack(),\n\t\t\t\tsteps = [],\n\t\t\t\t$parent = $node.parent(),\n\t\t\t\tparentName = $parent.prop('nodeName');\n\n\t\t\tposition = ($sibSameNameAndSelf.length > 1) ? '[' + ($sibSameNameAndSelf.index($node) + 1) + ']' : '';\n\t\t\tsteps.push(nodeName + position);\n\n\t\t\twhile ($parent.length == 1 && parentName !== node && parentName.toLowerCase() !== '#document' && parentName.toLowerCase() !== 'html' && parentName.toLowerCase() !== 'body') {\n\t\t\t\t$sibSameNameAndSelf = $parent.siblings(parentName).addBack();\n\t\t\t\tposition = ($sibSameNameAndSelf.length > 1) ? '[' + ($sibSameNameAndSelf.index($parent) + 1) + ']' : '';\n\t\t\t\tsteps.push(parentName + position);\n\t\t\t\t$parent = $parent.parent();\n\t\t\t\tparentName = $parent.prop('nodeName');\n\t\t\t}\n\t\t\treturn '//' + steps.reverse().join('/').toLowerCase();\n\t\t}\n\t});\n\n\tfunction getCSSSelector(element) {\n\t\treturn $(element).getCSSSelector()\n\t}\n\n\tfunction getXPathSelector(element) {\n\t\treturn $(element).getXPathSelector()\n\t}\n\n\texport default {\n\t\tname: 'Web',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\txpathSelector: null,\n\t\t\t\tcssSelector: null,\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\thtml: {\n\t\t\t\ttype: String,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonCopy: function () {\n\t\t\t\tthis.$message.success(this.$store.getters.$lang.messages.successCopy)\n\t\t\t},\n\t\t\tonError: function () {\n\t\t\t\tthis.$message.error(this.$store.getters.$lang.messages.errorCopy)\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tlet that = this\n\t\t\tlet iframe_id = 'iframe-box'\n\t\t\t$('#' + iframe_id).on(\"load\", function () {\n\t\t\t\tdocument.getElementById(iframe_id).contentWindow.document.body.onclick =\n\t\t\t\t\tfunction (event) {\n\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\tlet target = $(event.target)\n\t\t\t\t\t\tconsole.log(getCSSSelector(target))\n\t\t\t\t\t\tthat.cssSelector = getCSSSelector(target)\n\t\t\t\t\t\tthat.xpathSelector = getXPathSelector(target)\n\n\t\t\t\t\t\t$(document.getElementById(iframe_id).contentWindow.document.body).find('.gerapy-selected').remove()\n\t\t\t\t\t\t$(document.getElementById(iframe_id).contentWindow.document.body).find(getCSSSelector(target)).each(function () {\n\t\t\t\t\t\t\t$('<div></div>').css($(this).offset()).css({\n\t\t\t\t\t\t\t\t'width': target.width(),\n\t\t\t\t\t\t\t\t'height': target.height(),\n\t\t\t\t\t\t\t\t'position': 'absolute',\n\t\t\t\t\t\t\t\t'border': '2px solid red',\n\t\t\t\t\t\t\t\t'pointer-events': 'none',\n\t\t\t\t\t\t\t\t'z-index': 10000\n\t\t\t\t\t\t\t}).addClass('gerapy-selected').appendTo($(document.getElementById(iframe_id).contentWindow.document.body))\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n</script>\n<style scoped>\n\tiframe html {\n\t\tcursor: pointer;\n\t}\n</style>\n","\niframe html[data-v-222adce0] {\n\tcursor: pointer;\n}\n\n#console{height:auto;border:1px solid #dfe6ec}#console p{margin-top:5px;margin-bottom:5px}#console p button{margin-right:5px}#console p a{color:#48576a;font-weight:400}#console label .el-button{width:100%}#follows #follow-requests,#follows #follow-items{border:1px solid #dfe6ec;overflow-y:scroll;max-height:400px}#follows #follow-requests .el-loading-mask,#follows #follow-items .el-loading-mask{height:10000px}#follows #follow-items .follow-item{border-bottom:1px solid #dfe6ec}#follows #follow-items .follow-item .key{width:10%}#follows #follow-items .follow-item .value{width:90%}#follows #follow-requests .follow-request{position:relative;height:40px;line-height:40px;padding-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer;border-bottom:1px solid #dfe6ec}#follows #follow-web iframe{border:1px solid #dfe6ec;min-height:500px}#follows #follow-html{max-height:500px;overflow:scroll;border:1px solid #dfe6ec;padding:15px}.el-tabs__item.is-active{color:#28ccaa !important}.el-tabs__active-bar{background-color:#28ccaa !important}\n\n.code-editor{font-size:16px}.code-editor .CodeMirror{max-height:200px}.code-editor .CodeMirror-line{height:25px;line-height:25px !important}\n\n#project-configure #info .el-form,#project-configure #items .el-form,#project-configure #spiders .el-form{padding:20px 30px}#project-configure #info .el-form .el-form-item{margin-bottom:0}.inline{display:inline-block}.inline.short{max-width:100px !important}.inline.medium{max-width:200px !important}.inline.long{max-width:400px !important}#save{position:fixed;width:40px;height:40px;border-radius:50%;right:20px;bottom:20px;z-index:1000;font-size:12px;padding-left:15px}\n\n\n/*# sourceMappingURL=chunk-6a3bce8f.c8ebb250.css.map*/","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#console {\n\theight: auto;\n\tborder: 1px solid rgb(223, 230, 236);\n\tp {\n\t\tmargin-top: 5px;\n\t\tmargin-bottom: 5px;\n\t\tbutton {\n\t\t\tmargin-right: 5px;\n\t\t}\n\t\ta {\n\t\t\tcolor: rgb(72, 87, 106);\n\t\t\tfont-weight: 400;\n\t\t}\n\t}\n\tlabel {\n\t\t.el-button {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n}\n\n#follows {\n\t$max-height: 400px;\n\t#follow-requests, #follow-items {\n\t\tborder: 1px solid rgb(223, 230, 236);\n\t\toverflow-y: scroll;\n\t\tmax-height: $max-height;\n\t\t.el-loading-mask {\n\t\t\theight: 10000px;\n\t\t}\n\t}\n\t#follow-items {\n\t\t.follow-item {\n\t\t\tborder-bottom: 1px solid rgb(223, 230, 236);\n\t\t\t.key {\n\t\t\t\twidth: 10%;\n\t\t\t}\n\t\t\t.value {\n\t\t\t\twidth: 90%;\n\t\t\t}\n\t\t}\n\t}\n\t#follow-requests {\n\t\t.follow-request {\n\t\t\tposition: relative;\n\t\t\theight: 40px;\n\t\t\tline-height: 40px;\n\t\t\tpadding-left: 5px;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\t\t\tborder-bottom: 1px solid rgb(223, 230, 236);\n\t\t}\n\t}\n\n\t#follow-web {\n\t\tiframe {\n\t\t\tborder: 1px solid #dfe6ec;\n\t\t\tmin-height: 500px;\n\t\t}\n\t}\n\n\t#follow-html {\n\t\tmax-height: 500px;\n\t\toverflow: scroll;\n\t\tborder: 1px solid #dfe6ec;\n\t\tpadding: 15px;\n\t}\n}\n\n.el-tabs__item.is-active {\n\tcolor: #28ccaa !important;\n}\n\n.el-tabs__active-bar {\n\tbackground-color: #28ccaa !important;\n}\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$line-height: 25px;\n.code-editor {\n\tfont-size: 16px;\n\t.CodeMirror {\n\t\tmax-height: 200px;\n\t}\n\t.CodeMirror-line {\n\t\theight: $line-height;\n\t\tline-height: $line-height !important;\n\t}\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#project-configure {\n\t#info, #items, #spiders {\n\t\t.el-form {\n\t\t\tpadding: 20px 30px;\n\t\t}\n\t}\n\t#info {\n\t\t.el-form {\n\t\t\t.el-form-item {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.inline {\n\tdisplay: inline-block;\n\t&.short {\n\t\tmax-width: 100px !important;\n\t}\n\t&.medium {\n\t\tmax-width: 200px !important;\n\t}\n\t&.long {\n\t\tmax-width: 400px !important;\n\t}\n}\n\n#save {\n\tposition: fixed;\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 50%;\n\tright: 20px;\n\tbottom: 20px;\n\tz-index: 1000;\n\tfont-size: 12px;\n\tpadding-left: 15px;\n}\n"]}